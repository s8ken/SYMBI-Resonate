# Production Environment Configuration
# Copy this file to .env.production and fill in the values

# ============================================================================
# Application Configuration
# ============================================================================
NODE_ENV=production
PORT=3000
APP_URL=https://symbi-resonate.com

# ============================================================================
# Database Configuration (Supabase)
# ============================================================================
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================================================
# Security Configuration
# ============================================================================

# Encryption Key (Generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your-base64-encoded-32-byte-key

# JWT Secret (Generate with: openssl rand -base64 64)
JWT_SECRET=your-jwt-secret

# Session Secret (Generate with: openssl rand -base64 64)
SESSION_SECRET=your-session-secret

# API Key Salt (Generate with: openssl rand -base64 32)
API_KEY_SALT=your-api-key-salt

# ============================================================================
# Ed25519 Signing Keys (Optional)
# ============================================================================
VITE_ED25519_PUBLIC_KEY_BASE64=
VITE_ED25519_PRIVATE_KEY_BASE64=
VITE_ED25519_KEYS_JSON={"kid1":"base64pubkey=="}
ED25519_KEYS_JSON={"kid1":"base64pubkey=="}

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_TLS=true

# ============================================================================
# Monitoring & Logging
# ============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog (APM & Logging)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DATADOG_SITE=datadoghq.com

# New Relic (APM)
NEW_RELIC_LICENSE_KEY=your-new-relic-key
NEW_RELIC_APP_NAME=SYMBI-Resonate

# ============================================================================
# Email Configuration
# ============================================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_FROM=noreply@symbi-resonate.com

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=60
RATE_LIMIT_STRICT_MAX=10

# ============================================================================
# Data Retention
# ============================================================================
RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365
BACKUP_RETENTION_DAYS=30

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_MFA=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_CACHING=true

# ============================================================================
# CDN Configuration
# ============================================================================
CDN_URL=https://cdn.symbi-resonate.com
CDN_BUCKET=symbi-resonate-assets

# ============================================================================
# Webhook Configuration
# ============================================================================
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT_MS=5000
WEBHOOK_MAX_RETRIES=3

# ============================================================================
# Compliance
# ============================================================================
GDPR_ENABLED=true
DATA_CLASSIFICATION_ENABLED=true
COMPLIANCE_REPORTING_ENABLED=true

# ============================================================================
# Tenant Configuration
# ============================================================================
VITE_TENANT_ID=your-tenant-id
VITE_MODEL_ID=model-id-or-name
VITE_POLICY_PACK=policy-pack-version

# ============================================================================
# Third-party Integrations
# ============================================================================

# Slack (Notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#alerts

# PagerDuty (Incident Management)
PAGERDUTY_API_KEY=your-pagerduty-api-key
PAGERDUTY_SERVICE_ID=your-service-id

# AWS (Cloud Services)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=symbi-resonate-backups

# ============================================================================
# Performance Thresholds
# ============================================================================
API_RESPONSE_TIME_WARNING_MS=200
API_RESPONSE_TIME_CRITICAL_MS=1000
DATABASE_QUERY_TIME_WARNING_MS=50
DATABASE_QUERY_TIME_CRITICAL_MS=200
MEMORY_USAGE_WARNING_PERCENT=80
MEMORY_USAGE_CRITICAL_PERCENT=95

# ============================================================================
# Backup Configuration
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * * # Daily at 2 AM
BACKUP_ENCRYPTION_ENABLED=true

# ============================================================================
# Health Check Configuration
# ============================================================================
HEALTH_CHECK_INTERVAL_MS=30000
HEALTH_CHECK_TIMEOUT_MS=5000

# ============================================================================
# CORS Configuration
# ============================================================================
CORS_ORIGIN=https://symbi-resonate.com,https://app.symbi-resonate.com
CORS_CREDENTIALS=true

# ============================================================================
# SSL/TLS Configuration
# ============================================================================
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem
SSL_CA_PATH=/path/to/ca.pem

# ============================================================================
# Load Balancer Configuration
# ============================================================================
TRUST_PROXY=true
BEHIND_LOAD_BALANCER=true

# ============================================================================
# Metrics Configuration
# ============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true
# Cache Configuration
# Set REDIS_URL to enable Redis (ioredis) instead of in-memory cache
REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your_redis_password
# REDIS_TLS=false
